!function o(a,s,c){function l(e,t){if(!s[e]){if(!a[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(f)return f(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[e]={exports:{}};a[e][0].call(i.exports,function(t){return l(a[e][1][t]||t)},i,i.exports,o,a,s,c)}return s[e].exports}for(var f="function"==typeof require&&require,t=0;t<c.length;t++)l(c[t]);return l}({1:[function(t,e,n){"use strict";function r(t,e,n){var r=1<arguments.length&&void 0!==e?e:1,i=2<arguments.length&&void 0!==n&&n,o=fetch(t,{signal:s}),a=new Promise(function(t,e){return setTimeout(function(){return e(new Error("Request timeout"))},1e3*r)});return Promise.race([o,a]).then(function(t){if(i&&200<=t.status&&t.status<300)return t;var e=t.headers.get("content-type");return e&&-1!==e.indexOf("application/json")?t.json():Promise.reject(new Error("Invalid JSON Response"))}).then(function(t){return void 0===t.success||!0===t.success?Promise.resolve(t):Promise.reject(new Error(t.message))})}var i=new AbortController,s=i.signal;e.exports={fetchContent:function(t,e){return r(t,1<arguments.length&&void 0!==e?e:1,!0)},fetchJson:function(t,e){return r(t,1<arguments.length&&void 0!==e?e:1)},controller:i,signal:s}},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.loadJS=function(t,e){var n=window.document.getElementsByTagName("script")[0],r=window.document.createElement("script");r.src=t,r.async=!0,n.parentNode.insertBefore(r,n),e&&"function"==typeof e&&(r.onload=e);return r},n.loadCSS=function(t,e,n,r){var i=window.document.createElement("link"),o=e||window.document.getElementsByTagName("script")[0],a=window.document.styleSheets;i.rel="stylesheet",i.href=t,i.media="only x",r&&(i.onload=r);return o.parentNode.insertBefore(i,o),i.onloadcssdefined=function(t){for(var e,n=0;n<a.length;n++)a[n].href&&a[n].href===i.href&&(e=!0);e?t():setTimeout(function(){i.onloadcssdefined(t)})},i.onloadcssdefined(function(){i.media=n||"all"}),i}},{}],3:[function(t,e,n){"use strict";var o,r=t("./templateMapping"),a=[];e.exports=o={init:function(t){return a=t,o},preparePaths:function(){if(Array.isArray(a)){var r=a,i=[];r.forEach(function(t){var e="";if("/"!==t.filepath.slice(-1)){var n=t.filepath.split("/");n.pop(),n.forEach(function(t){e+=t+"/",r.filter(function(t){return t.filepath===e})<1&&i.push({filepath:e,mimetype:null,is_dir:!0})})}});var e=new Map;return r=r.concat(i).filter(function(t){if(!e.has(t.filepath))return e.set(t.filepath,!0),t}),a=r,o}},mappingPaths:function(){if(Array.isArray(a))return a=a.map(function(t){var e=t.filepath||"",n="/"===e.slice(-1),r=e.split("/"),i=r[r.length-(n?2:1)],o=e.slice(0,e.length-(i+(n?"/":"")).length)||"/";return{name:i,path:e,parent:o,is_dir:n,type:t.mimetype,content_url:t.content_url||null,comments:t.comments||[],commentsFileLength:0}}),o},sort:function(){if(Array.isArray(a))return a=a.sort(function(t,e){return t.hasOwnProperty("is_dir")||e.hasOwnProperty("is_dir")||t.hasOwnProperty("name")||e.hasOwnProperty("name")?t.is_dir&&!e.is_dir?-1:!t.is_dir&&e.is_dir?1:t.name.toLowerCase()<e.name.toLowerCase()?-1:t.name.toLowerCase()>e.name.toLowerCase()?1:0:0}),o},setIcon:function(t){var n=0<arguments.length&&void 0!==t?t:0;if(Array.isArray(a))return a=a.map(function(t){if(t.is_dir)return t.icon=r.iconFolder[n],t;var e=t.type.split("/")[0].trim().toLowerCase();return t.icon="text"===e?r.iconText[n]:"image"===e?r.iconImage[n]:"video"===e?r.iconVideo[n]:r.iconFile[n],t}),o},toArray:function(){return a}}},{"./templateMapping":5}],4:[function(t,e,n){"use strict";var o,i=t("./templateMapping"),a=[];e.exports=o={create:function(t){var r="/"===t.slice(-1),e=(t||"").split("/"),i="",n=e.filter(function(t){return t}).map(function(t,e,n){return i+=t,{path:i+=r||n.length-1!==e?"/":"",name:t}});return n.unshift({path:"/",name:"&#127968;"}),a=n,o},toArray:function(){return a},toHtml:function(t){var r=0<arguments.length&&void 0!==t?t:0;return a.map(function(t,e,n){return n.length-1!==e?i.breadcrumb[r].replace("%item.path%",t.path).replace("%item.name%",t.name):i.breadcrumbLast[r].replace("%item.path%",t.path).replace("%item.name%",t.name)}).join("")},toText:function(){return a.map(function(t,e){return 0<e?" / "+t.name:t.name}).join("")}}},{"./templateMapping":5}],5:[function(t,e,n){"use strict";e.exports={iconFolder:["fa fa-folder","far fa-folder"],iconFile:["fa fa-file-o","far fa-file"],iconText:["fa fa-file-code-o","far fa-file-code"],iconImage:["fa fa-file-image-o","far fa-file-image"],iconVideo:["fa fa-file-video","far fa-file-video"],btnPrimary:["btn-dicoding","btn-primary"],btnSecondary:["btn-dicoding-gray","btn-secondary"],rating:[{size:"xs",filledStar:'<i class="fa fa-star"></i>',emptyStar:'<i class="fa fa-star-o"></i>',clearButton:'<i class="fa fa-lg fa-minus-circle"></i>'},{size:"sm",theme:"krajee-fas"}],ratingRead:[{size:"xs",filledStar:'<i class="fa fa-star"></i>',emptyStar:'<i class="fa fa-star-o"></i>',clearButton:'<i class="fa fa-lg fa-minus-circle"></i>',displayOnly:!0},{}],breadcrumb:['<li class="breadcrumb-item"><button class="js-breadcrumb btn btn-xs btn-default" data-path="%item.path%">%item.name%</button></li>','<li class="breadcrumb-item"><button class="js-breadcrumb btn btn-sm text-remove-transfrom p-0" data-path="%item.path%">%item.name%</button></li>'],breadcrumbLast:['<li class="breadcrumb-item"><button class="js-breadcrumb btn btn-xs action-btn" data-path="%item.path%">%item.name%</button></li>','<li class="breadcrumb-item"><button class="js-breadcrumb btn btn-sm text-remove-transfrom p-0" data-path="%item.path%">%item.name%</button></li>'],contentLoading:['<div class="form-control text-center file-content"><i class="fa fa-spinner fa-spin fa-2x"></i></div>','<div class="form-control text-center" style="height: fit-content;"><i class="fa fa-spinner fa-spin fa-2x"></i></div>'],contentError:['<div class="form-control text-center h-auto"><i class="red">%errorMsg%</i></div>','<div class="form-control text-center h-auto"><i class="red">%errorMsg%</i></div>'],contentImage:['<div class="form-control text-center file-content"><img alt="image" class="img img-rounded" src="%contentURL%" style="max-width:100%; max-height:100%;"/></div>','<div class="form-control text-center" style="height: fit-content;"><img alt="image" class="img img-rounded" src="%contentURL%" style="max-width:100%; max-height:100%;"/></div>'],contentAudio:['<div class="form-control text-center file-content"><audio controls style="width: 80%"><source src="%contentURL%" /></audio></div>','<div class="form-control text-center" style="height: fit-content;"><audio controls style="width: 80%"><source src="%contentURL%" /></audio></div>'],contentVideo:['<div class="form-control text-center file-content"><video controls style="width: 80%"><source src="%contentURL%" /></video></div>','<div class="form-control text-center" style="height: fit-content;"><video controls style="width: 80%"><source src="%contentURL%" /></video></div>'],contentFile:['<div class="form-control text-center file-content"><a href="%contentURL%" class="btn btn-dicoding-gray text-icon"><i class="fa fa-download"/> Unduh Berkas</a></div>','<div class="form-control text-center" style="height: fit-content;"><a href="%contentURL%" class="btn btn-primary-gray text-icon"><i class="fa fa-download"/> Unduh Berkas</a></div>']}},{}],6:[function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=c(t("../commons/scripts/helpers/loaders")),v=c(t("../commons/scripts/helpers/fetcher")),i=c(t("../commons/scripts/inlinereview/archivepaths")),o=c(t("../commons/scripts/inlinereview/breadcrumb")),l=c(t("../commons/scripts/inlinereview/templateMapping"));function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function c(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function g(t,e){var n=!(1<arguments.length&&void 0!==e)||e,r=o.create(t);$(".js-filepath .breadcrumb").html(n?r.toHtml(1):r.toText())}function f(){function o(t,e){var n,r,i,o=e.comments||{};return o.hasOwnProperty(t.linecode)?o[t.linecode].push(t.comment):Object.assign(o,(n={},r=t.linecode,i=[t.comment],r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n)),o}function s(e,t){var n=1<arguments.length&&void 0!==t&&t;if(Array.isArray(window.archiveFiles)){g(e),$(".js-source-code").html(null),$(".js-show-comments").parent().hide();var r=$("input.js-filter-commented"),i=r.length&&r.is(":checked")?window.archiveFiles.filter(function(t){return t.comments&&t.comments.length&&t.commentsFileLength}):window.archiveFiles.filter(function(t){return t.parent===e}),o=window.archiveFiles.find(function(t){return t.path===e}),a=$("input.js-group-directory");if(a.length&&a.is(":checked")&&1===i.length&&i[0].is_dir){if(!n)return void s(i[0].path,n);if(n&&o)return void s(o.parent,n)}o&&i.unshift({is_dir:!0,parent:null,name:"..",path:o.parent,type:null,icon:l.iconFolder[1],comments:o.comments,commentsFileLength:o.commentsFileLength}),$(".js-archive-files").html(i.map(function(t){var e=c.clone();return e.find("span i").attr("class",t.icon),e.find("button").attr("data-is-dir",t.is_dir?1:0),e.find("button").attr("data-path",t.path),e.find("button").attr("data-type",t.type),e.find("button").attr("title",t.name),e.find("button").text(t.name),e.find(".badge").hide(),t.commentsFileLength&&t.parent&&e.find(".js-badge-file").text(t.commentsFileLength).show(),e[0].outerHTML}))}}$(document).on("click",'.js-switch-file[data-is-dir="1"]',function(t){s($(t.target).data("path"),".."===$(t.target).text())}),$(document).on("click",".js-breadcrumb:not(:last)",function(t){s($(t.target).data("path"))}),$("input.js-filter-commented").on("change",function(){s("/"),$('.js-switch-file[data-is-dir="0"]:eq(0)').click()});var c=$(".js-archive-files li:eq(0)").clone();return v.fetchJson(window.archiveURL||"",300).then(function(t){return window.commentsURL=t.commentsURL,i.init(t.files).setIcon(1).toArray()}).then(function(t){return i=t,Array.isArray(i)?v.fetchJson(window.commentsURL||"",300).then(function(t){return t.comments}).then(function(t){return t.forEach(function(n){var r=i.find(function(t){return t.path===n.filepath});void 0!==r&&function(){r.comments=o(n,r),r.commentsFileLength=r.commentsFileLength++||0,r.commentsFileLength++;for(var e=r.parent;"/"!==e;){var t=i.find(function(t){return t.path===e});t.commentsFileLength=t.commentsFileLength||0,t.commentsFileLength++,e=t.parent}}()}),i}).catch(function(){return i}):i;var i}).then(function(t){window.archiveFiles=t,window.commentLists=[],s("/")}).then(function(){$(".js-archive-default").hide(),$(".js-archive-extended").show()}).catch(function(t){if($(".js-archive-load").text("Kami mengalami kegagalan saat membaca arsip submission. Mohon unduh arsip secara manual untuk pemeriksaan lebih lanjut."),"Error: Request timeout"===t.toString()||"Error: Invalid JSON Response"===t.toString()){var e="Failed when extracting submission files. "+t.toString()+". ";e+="Request URL: "+window.archiveURL+". ",e+="Referrer URL: "+location.href+". ",fetch(window.location.origin+"/log/error?message="+e)}})}function u(){function d(){for(var t in h.comments)if(h.comments.hasOwnProperty(t)){var e=h.comments[t],n=p.find("li:eq("+(t-1)+")");if(!n.next().is(".js-line-comment")){var r=e.map(function(t){return'<div class="list-group-item"><div class="comment">'+(e=t,(n=document.createElement("div")).innerHTML=e,n.innerHTML)+"</div></div>";var e,n}).join("");n.after($('<div class="js-line-comment"><div class="list-group">'+r+"</div></div>"))}}}var h=null,p=$(".js-source-code");$(document).on("click",'.js-switch-file[data-is-dir="0"]',function(t){var e=$(t.target).data("path")||"",n=$(t.target).data("type")||"";h=window.archiveFiles.find(function(t){return t.path===e});var r,i,o,a,s,c=$(".js-switch-file.btn-primary");if(c.prev().removeClass("btn-primary").addClass("btn-secondary"),$(t.target).prev().addClass("btn-primary").removeClass("btn-secondary"),c.removeClass("btn-primary").addClass("btn-secondary"),$(t.target).addClass("btn-primary").removeClass("btn-secondary"),h){var l=$("input.js-filter-commented"),f=!l.length||l.is(":not(:checked)");g(e,f);var u=h.content_url,m=$(".js-show-comments");return m.parent().hide(),"text"===n.split("/")[0]?(m.prop("checked",!0),m.parent().show(),s=u,p.html('<div class="form-control text-center h-auto"><i class="fa fa-spinner fa-spin fa-2x"></i></div>'),void v.fetchContent(s,5).then(function(t){return t.text()}).then(function(t){return t.replace(/[\u00A0-\u9999<>&]/gim,function(t){return"&#"+t.charCodeAt(0)+";"})}).then(function(t){return p.html('<pre class="prettyprint linenums">'+t+"</pre>")}).then(function(){return PR.prettyPrint()}).then(function(){return d()}).catch(function(t){var e=t||"Sorry, we failed to retrieve file content. Please try again!";p.html('<div class="form-control text-center h-auto"><i class="red">'+e+"</i></div>")})):"image"===n.split("/")[0]?(a=u,void p.html('<div class="form-control text-center h-auto"><img alt="image" class="img img-rounded" src="'+a+'" style="max-width:100%; max-height:100%;"/></div>')):"audio"===n.split("/")[0]?(o=u,void p.html('<div class="form-control text-center h-auto"><audio controls style="width: 80%"><source src="'+o+'" /></audio></div>')):"video"===n.split("/")[0]?(i=u,void p.html('<div class="form-control text-center h-auto"><video controls style="width: 80%"><source src="'+i+'" /></video></div>')):(r=u,void p.html('<div class="form-control text-center h-auto"><a href="'+r+'" class="btn btn-secondary text-icon"><i class="fa fa-download"/> Unduh Berkas</a></div>'))}}),$(document).on("click",".js-cancel-fetch",function(){return fetchController.abort(),!1}),null===h&&$('.js-switch-file[data-is-dir="0"]:eq(0)').click(),$("input.js-show-comments").on("change",function(){$("input.js-show-comments").is(":checked")?p.find(".js-line-comment").show("slow"):p.find(".js-line-comment").hide("slow")})}$(function(){new Promise(function(t){r.loadJS("https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/prettify.js",function(){r.loadCSS("https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/prettify.css",null,null,t)})}).then(function(){return $(".js-note").find("pre").addClass("prettyprint linenums")}).then(function(){return PR.prettyPrint()}).then(f).then(u),$(".js-checklist-status").each(function(t,e){$(e).siblings(":last").append(e.innerHTML),$(e).remove()})})},{"../commons/scripts/helpers/fetcher":1,"../commons/scripts/helpers/loaders":2,"../commons/scripts/inlinereview/archivepaths":3,"../commons/scripts/inlinereview/breadcrumb":4,"../commons/scripts/inlinereview/templateMapping":5}]},{},[6]);